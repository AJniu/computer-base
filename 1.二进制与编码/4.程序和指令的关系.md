## 指令和程序的关系

### 前提：（以下提到的指令都指机器指令）

程序是由指令组成的。(**高级语言源代码**经过编译程序编译成汇编语言源程序，**汇编源程序**再经过汇编程序编译成**机器语言目标程序**，机器语言目标程序再经过指令译码器转译成**控制信号**)

#### 程序在执行前：

数据和指令事先存放在存储器中，每条指令和每个数据都有地址，指令按序存放，指令由OP、ADDR字段组成，程序起始地址存放在PC寄存器里。

指令和数据在存储器中的存储形式没有区别，都是0/1序列。

**区别在于：指令执行过程中，指令和数据被从存储器取到CPU，存放在CPU内的寄存器中，指令在IR（指令寄存器）中，数据在GPR（通用寄存器）中**。（具体查看下面的 - 指令中需给出的信息）

#### 开始执行程序：

1. 根据PC寄存器的地址取指令
2. 指令译码
3. 取操作数
4. 指令执行
5. 回写结果
6. 修改PC寄存器的值，指向下一条指令地址

​	...... 重复操作，继续执行下一条指令。

#### 指令中需给出的信息：

+ 操作码（什么操作）
+ 源操作数1 或/和 源操作数2 （有几个操作数根据运算是单目运算符还是多目操作数，数的来源也有几个，如下）
  + 立即数：指令中直接给出
  + 寄存器编号：操作数在寄存器里面，指令中则存储寄存器编号
  + 存储地址：操作数在存储器里面，指令中则存储存储单元地址
+ 目的操作数地址（有寄存器编号和存储地址两种形式）

> 存储地址的描述与 ***操作数的数据结构***有关。

#### 几种指令：

+ 机器指令：处于硬件和软件的交界面（ISA-指令集体系结构课程范围,规定了如何使用硬件），01010形式的指令（上述的指令就是指它）。
+ 汇编指令：汇编指令与机器指令一一对应，汇编指令会被编译成机器指令。
+ 微指令：微程序级命令，属于硬件范畴。
+ 微指令：若干机器指令组成的指令序列，属于软件范畴。