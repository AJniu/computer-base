## 使用IndexedDB
### 基本模式
IndexedDB 鼓励使用基本模式，如下：
1. 打开数据库
2. 在数据库中创建一个对象存储（object store）
3. 启动事务，并发送一个请求来执行一系列操作，如添加或获取数据等。
4. 通过监听正确类型的DOM事件以等待操作完成。
5. 对结果进行一些操作。

### IndexedDB 使用
一. 打开数据库：
`const request = indexedDB.open(dbName, dbVersion)`: 
接受两个参数

1. dbName: 数据库名(如果存在就打开对应的数据库，不存在就创建后（创建会触发onupgradeneeded事件）打开。)
2. dbVersion：数据库版本号（unsigned long long （整）数字）。如果省略，打开已有数据库时，默认为当前版本；新建数据库时，默认为1。

返回值：[IDBOpenDBRequest ](https://developer.mozilla.org/en-US/docs/Web/API/IDBOpenDBRequest)对象实例。（在IndexedDB中的大部分异步方法做的都是同样的事情---返回一个包含结果或错误的[`IDBRequest`](https://developer.mozilla.org/zh-CN/docs/Web/API/IDBRequest) 实例对象）如果成功，返回值对象的result属性是一个`IDBDatabase` 对象的实例。

二：生成处理器（回调函数）

因为IndexedDB操作都是异步的，所以需要监控成功/失败等事件，添加对应的回调函数处理：

```js
// 打开成功回调
request.onsuccess = (e) => {
    // 结果e.target.result  - IDBDatabase 实例对象
    console.log(e.target.result);
};
// 错误回调
request.onerror = (e) => {
    console.log(e.target.error);
};
```

