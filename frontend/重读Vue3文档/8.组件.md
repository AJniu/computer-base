## 组件
### 一. 组件上的 ref
在组件上使用ref，获取的值是组件实例。
```vue
// 父组件
<script setup>
import { ref, onMounted } from 'vue'
import Child from './Child.vue'

const child = ref(null)

onMounted(() => {
  // child.value 是 <Child /> 组件的实例
})
</script>

<template>
  <Child ref="child" />
</template>
```

```vue
// 子组件 - setup组件默认是私有的，需使用defineExpose暴露

// 与之相对的options组件，被引用的组件实例相当于子组件的this，父组件可以通过子组件组件实例获取子组件的所有属性和方法。（不要这样）
<script setup>
import { ref } from 'vue'

const a = 1
const b = ref(2)

// 像 defineExpose 这样的编译器宏不需要导入
// defineExpose暴露的属性会被绑定在组件实例上
defineExpose({
  a,
  b // ref 会自动解包
})
</script>
```

### 二. props
props 是一种特殊的 attributes，可以在组件上使用defineProps宏（也无需引入）声明注册。

声明的props会自动暴露给模板（template中）。
```vue
<!-- BlogPost.vue -->
<script setup>
defineProps(['title'])
</script>

<template>
  <h4>{{ title }}</h4>
</template>
```

defineProps 会返回一个对象，其中包含了可以传递给组件的所有props。
```js
const props = defineProps(['title'])
console.log(props.title)
```

在父组件中，使用v-bind动态绑定子组件props中声明的props属性。

### 三. 监听事件 - emit
父组件可以监听子组件上抛出的事件（@eventName）

子组件可以通过以下方法来抛出事件：
1. 通过内置的$emit(eventName)方法 - 只能在模板上用(不建议)
2. 使用defineEmits() 宏声明组件可能触发的所有事件。同时 defineEmits()宏会返回一个等同于$emit 方法的 emit() 函数。emit()函数也可以在组件中抛出事件。
```vue
<script setup>
// 定义可能的事件，并返回emit()函数    
const emit = defineEmits(['enlarge-text'])
// 执行emit（）,向父组件抛出事件
emit('enlarge-text')
</script>
```